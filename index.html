<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div class="translate">
      <div class="translate__header">
        <h1 class="translate__title">Language Web to Language ISO</h1>
      </div>
      <div class="translate__body">
        <div class="translate-field translate__field">
          <h2 class="translate-field__title">Введите код:</h2>
          <textarea
            class="translate-field__input"
            id="input"
            cols="30"
            rows="10"
            spellcheck="false"
          ></textarea>
        </div>
        <button id="translate" class="translate__btn">Нажать</button>
        <div class="translate-field translate__field">
          <h2 class="translate-field__title">Результат выполнения:</h2>
          <textarea
            class="translate-field__result"
            placeholder="Чтобы добавить язык ISO, вставьте CSS-код языков в поле слева. Можно вставлять как отдельные блоки, так и код целиком."
            id="output"
            cols="30"
            rows="10"
            spellcheck="false"
          ></textarea>
        </div>
      </div>
      <div class="translate__footer">
        <a href="https://github.com/DmitryPash/px-to-em/tree/main"
          >Проект на GitHub</a
        >
        <a href="https://t.me/MorlndLuv">@MorlndLuv</a>
      </div>
    </div>
  </body>
  <script>
    const alfabet = {
      aa: "aa_ET",
      al: "sq_AL",
      am: "am_ET",
      ar: "ar_AE",
      au: "en_GB",
      az: "az_AZ",
      bg: "bg_BG",
      bn: "bn_BD",
      br: "pt_BR",
      bs: "bs_BA",
      by: "be_BY",
      ca: "en_CA",
      cn: "zh_CN",
      cs: "cs_CZ",
      da: "da_DK",
      de: "de_DE",
      el: "el_GR",
      en: "en_GB",
      gb: "en_GB",
      es: "es_ES",
      et: "et_EE",
      fa: "fa_IR",
      fi: "fi_FI",
      fr: "fr_FR",
      he: "he_IL",
      hi: "hi_IN",
      hk: "zh_HK",
      hr: "hr_HR",
      ht: "ht_HT",
      hu: "hu_HU",
      hy: "hy_AM",
      id: "id_ID",
      in: "en_IN",
      iq: "ar_AE",
      is: "is_IS",
      it: "it_IT",
      ja: "ja_JP",
      ka: "ka_GE",
      km: "km_KH",
      ko: "ko_KR",
      ku: "ku_TR",
      kz: "kk_KZ",
      ln: "ln_CD",
      lo: "lo_LA",
      lt: "lt_LT",
      lv: "lv_LV",
      mk: "mk_MK",
      mn: "mn_MN",
      ms: "ms_MY",
      mx: "es_MX",
      my: "my_MM",
      nb: "nb_NO",
      ne: "ne_NP",
      nl: "nl_NL",
      nz: "en_NZ",
      pl: "pl_PL",
      pt: "pt_PT",
      ro: "ro_RO",
      ru: "ru_RU",
      sd: "sd_IN",
      si: "si_LK",
      sk: "sk_SK",
      sl: "sl_SI",
      sr: "sr_RS",
      sv: "sv_SE",
      sw: "sw_KE",
      th: "th_TH",
      tj: "tg_TJ",
      tl: "tl_PH",
      tr: "tr_TR",
      tw: "zh_TW",
      ua: "uk_UA",
      ur: "ur_PK",
      us: "en_GB",
      uz: "uz_UZ",
      vi: "vi_VN",
      ir: "fa_IR",
      zu: "zu_ZA",
      kr: "ko_KR",
      zh: "zh_CN",
      tg: "tg_TJ",
      uk: "uk_UA",
      sq: "sq_AL",
      so: "so_SO",
      er: "aa_ER",
      ta: "ta_LK",
      pe: "es_PE",
      co: "es_CO",
      cl: "es_CL",
    };
    const input = document.querySelector("#input");
    const btn = document.querySelector("#translate");
    const output = document.querySelector("#output");

    btn.addEventListener("click", () => {
      transpiller(input.value.toLowerCase());
    });

    function transpiller(value) {
      output.innerHTML = "";

      let arrayOfValue = value.split(/;|,\s+/);

      let outputArray = arrayOfValue.map((element, index) => {
        for (const [key, translate] of Object.entries(alfabet))
          if (element.indexOf(key) > 0) {
            return index === arrayOfValue.length - 1
              ? element + `,&:lang(${translate})`
              : element + `,&:lang(${translate}),\n`;
          }
      });

      let template = "";

      outputArray.forEach((e) => {
        template = template + e;
      });
      output.innerHTML = template;
    }
  </script>

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      min-width: 800px;
      margin: 0;
      font-family: "Trebuchet MS", sans-serif;
      font-optical-sizing: auto;
      background: #eee;
    }

    /* width */
    textarea::-webkit-scrollbar {
      width: 4px;
    }

    /* Track */
    textarea::-webkit-scrollbar-track {
      background: #f1f1f1;
    }

    /* Handle */
    textarea::-webkit-scrollbar-thumb {
      background: #888;
    }

    /* Handle on hover */
    textarea::-webkit-scrollbar-thumb:hover {
      background: #555;
    }

    .translate {
      margin: 2rem auto;
      padding: 2rem 3rem 3rem;
      width: 80%;
      min-width: 800px;
      max-width: 1200px;
      background: #fff;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
    }

    .translate__header {
      text-align: center;
      position: relative;
      margin-bottom: 2.65rem;
      padding: 1rem 0;
      border-bottom: 3px solid #eee;
    }

    .translate__btn {
      align-items: center;
      align-self: center;

      appearance: none;
      background-color: #fcfcfd;
      border-radius: 4px;
      border-width: 0;
      box-shadow: rgba(45, 35, 66, 0.4) 0 2px 4px,
        rgba(45, 35, 66, 0.3) 0 7px 13px -3px, #d6d6e7 0 -3px 0 inset;
      box-sizing: border-box;
      color: #36395a;
      cursor: pointer;
      display: inline-flex;
      font-family: "JetBrains Mono", monospace;
      height: 48px;
      justify-content: center;
      line-height: 1;
      list-style: none;
      overflow: hidden;
      padding-left: 16px;
      padding-right: 16px;
      position: relative;
      text-align: left;
      text-decoration: none;
      transition: box-shadow 0.15s, transform 0.15s;
      user-select: none;
      -webkit-user-select: none;
      touch-action: manipulation;
      white-space: nowrap;
      will-change: box-shadow, transform;
      font-size: 18px;
    }

    .translate__btn:focus {
      box-shadow: #d6d6e7 0 0 0 1.5px inset, rgba(45, 35, 66, 0.4) 0 2px 4px,
        rgba(45, 35, 66, 0.3) 0 7px 13px -3px, #d6d6e7 0 -3px 0 inset;
    }

    .translate__btn:hover {
      box-shadow: rgba(45, 35, 66, 0.4) 0 4px 8px,
        rgba(45, 35, 66, 0.3) 0 7px 13px -3px, #d6d6e7 0 -3px 0 inset;
      transform: translateY(-2px);
    }

    .translate__btn:active {
      box-shadow: #d6d6e7 0 3px 7px inset;
      transform: translateY(2px);
    }

    .translate__title {
      font-weight: 500;
    }
    .translate__body {
      display: flex;
      column-gap: 60px;
    }
    .translate-field {
      flex: 1 0 auto;
    }
    .translate-field__input {
      width: 100%;
      height: 200px;
      margin-bottom: 2rem;
      padding: 0.75rem;
      border: 1px solid #ccc;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.2) inset;
      line-height: 1.3;
    }

    .translate-field__result {
      height: 200px;
      width: 100%;
      padding: 1rem;
      border: 1px solid #ccc;
      display: flex;
      justify-content: center;
      align-items: center;
      resize: none;
    }

    .translate-field__result::placeholder {
      text-align: center;
      font-size: 14px;
      color: #999;
    }

    .translate-field__title {
      font-weight: 500;
      font-size: 22px;
      margin-bottom: 15px;
    }

    .translate__footer {
      margin-top: 3rem;
      padding-top: 1rem;
      border-top: 3px solid #eee;
      display: flex;
      justify-content: space-between;
    }
  </style>
</html>
